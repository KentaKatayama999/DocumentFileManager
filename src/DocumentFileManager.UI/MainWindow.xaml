<Window x:Class="DocumentFileManager.UI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:DocumentFileManager.UI"
        mc:Ignorable="d"
        Title="資料保存アプリ - Document File Manager"
        Height="600" Width="900"
        MinHeight="400" MinWidth="600"
        WindowStartupLocation="CenterScreen">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- メニューバー -->
        <Menu Grid.Row="0">
            <MenuItem Header="ファイル(_F)">
                <MenuItem Header="終了(_X)" Click="ExitMenuItem_Click"/>
            </MenuItem>
            <MenuItem Header="設定(_S)">
                <MenuItem Header="UI設定(_U)" Click="SettingsMenuItem_Click"/>
            </MenuItem>
        </Menu>

        <!-- タイトルバー -->
        <Border Grid.Row="1" Background="#2C3E50" Padding="15">
            <TextBlock Text="資料保存アプリ"
                       Foreground="White"
                       FontSize="20"
                       FontWeight="Bold"/>
        </Border>

        <!-- メインコンテンツエリア -->
        <Grid Grid.Row="2" Margin="10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" MinWidth="200"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*" MinWidth="200"/>
            </Grid.ColumnDefinitions>

            <!-- 左側：資料一覧 -->
            <GroupBox Grid.Column="0" Header="資料一覧" Margin="5">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="5">
                        <Button x:Name="LoadDocumentsButton"
                                Content="資料読み込み"
                                Padding="10,5"
                                Margin="0,0,5,0"
                                Click="LoadDocumentsButton_Click"/>
                        <Button x:Name="AddDocumentButton"
                                Content="資料追加"
                                Padding="10,5"
                                Margin="0,0,5,0"
                                Click="AddDocumentButton_Click"/>
                        <TextBlock x:Name="DocumentCountText"
                                   VerticalAlignment="Center"
                                   Text="0 件"/>
                    </StackPanel>

                    <ListView x:Name="DocumentsListView"
                              Grid.Row="1"
                              Margin="5"
                              AllowDrop="True"
                              DragEnter="DocumentsListView_DragEnter"
                              Drop="DocumentsListView_Drop"
                              MouseDoubleClick="DocumentsListView_MouseDoubleClick">
                        <ListView.View>
                            <GridView>
                                <GridViewColumn Header="ファイル名" Width="180" DisplayMemberBinding="{Binding FileName}"/>
                                <GridViewColumn Header="種類" Width="60" DisplayMemberBinding="{Binding FileType}"/>
                                <GridViewColumn Header="相対パス" Width="250" DisplayMemberBinding="{Binding RelativePath}"/>
                                <GridViewColumn Header="追加日時" Width="140" DisplayMemberBinding="{Binding AddedAt, StringFormat={}{0:yyyy/MM/dd HH:mm}}"/>
                            </GridView>
                        </ListView.View>
                    </ListView>
                </Grid>
            </GroupBox>

            <!-- 区切り -->
            <GridSplitter Grid.Column="1" Width="5" HorizontalAlignment="Center" VerticalAlignment="Stretch"/>

            <!-- 右側：チェック項目一覧（階層表示） -->
            <GroupBox Grid.Column="2" Header="チェック項目" Margin="5">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="5">
                        <Button x:Name="LoadCheckItemsButton"
                                Content="チェック項目読み込み"
                                Padding="10,5"
                                Margin="0,0,5,0"
                                Click="LoadCheckItemsButton_Click"/>
                        <TextBlock x:Name="CheckItemCountText"
                                   VerticalAlignment="Center"
                                   Text="0 件"/>
                    </StackPanel>

                    <!-- ScrollViewer + WrapPanel でGroupBox階層を表示 -->
                    <ScrollViewer Grid.Row="1"
                                  Margin="5"
                                  VerticalScrollBarVisibility="Auto"
                                  HorizontalScrollBarVisibility="Disabled"
                                  CanContentScroll="False"
                                  PanningMode="VerticalOnly">
                        <WrapPanel x:Name="CheckItemsContainer"
                                   Orientation="Horizontal"/>
                    </ScrollViewer>
                </Grid>
            </GroupBox>
        </Grid>

        <!-- ステータスバー -->
        <Border Grid.Row="3" Background="#ECF0F1" Padding="10,5" BorderBrush="#BDC3C7" BorderThickness="0,1,0,0">
            <TextBlock x:Name="StatusText" Text="準備完了"/>
        </Border>
    </Grid>
</Window>
